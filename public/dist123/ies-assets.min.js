/*! ies-guesthouse 2019-01-18 */
!function(){"use strict";var a=angular.module("app",["ui.router","ngSanitize","oc.lazyLoad","angular-flatpickr","ui.select","ui.tinymce","zingchart-angularjs","app.auth"]);a.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/guestHouseMaster"),a.state("guestHouseMaster",{url:"/guestHouseMaster",templateUrl:"app/modules/guestHouse/guestHouseMaster.html",resolve:{loadMyCtrl:["$ocLazyLoad",function(a){return a.load({insertBefore:"#css-bootstrap",serie:!0,files:["bower_components/dropzone/dist/dropzone.css","bower_components/dropzone/dist/dropzone.js","bower_components/ng-dropzone/dist/ng-dropzone.min.js","bower_components/tinymce/tinymce.js","bower_components/angular-ui-tinymce/src/tinymce.js","bower_components/angular-tree-control/css/tree-control.css","bower_components/angular-tree-control/css/tree-control-attribute.css","bower_components/angular-tree-control/angular-tree-control.js","bower_components/flatpickr/dist/flatpickr.min.css","bower_components/flatpickr/dist/flatpickr.min.js","bower_components/angular-flatpickr/dist/ng-flatpickr.js","bower_components/datatables.net-dt/css/jquery.dataTables.min.css","bower_components/datatables.net/js/jquery.dataTables.min.js"]})}]}}).state("masterData",{url:"/masterData",templateUrl:"app/modules/guestHouse/masterData.html",controller:"masterDataCtrl",resolve:{loadMyCtrl:["$ocLazyLoad",function(a){return a.load({insertBefore:"#css-bootstrap",serie:!0,files:["bower_components/ng-tags-input/ng-tags-input.css","bower_components/ng-tags-input/ng-tags-input.js"]})}]}}).state("guestHouse",{url:"/guestHouse",templateUrl:"app/modules/guestHouse/guestHouse.html",controller:"guestHouseCtrl"}).state("addTariff",{url:"/addTariff",templateUrl:"app/modules/guestHouse/addTariff.html",controller:"addTariffCtrl",resolve:{loadMyCtrl:["$ocLazyLoad",function(a){return a.load({insertBefore:"#css-bootstrap",serie:!0,files:["bower_components/ng-tags-input/ng-tags-input.css","bower_components/ng-tags-input/ng-tags-input.js"]})}]}})}]),a.controller("AppCtrl",["$scope","$window","$timeout",function(a,b,c){a.filterCollapse=function(a){var b=a.currentTarget;angular.element(".get-collapse").parent().removeClass("selected"),angular.element(b).parent().toggleClass("selected"),angular.element("#getData").hide(),angular.element("#filterResult").toggle()},a.dataCollapse=function(a){var b=a.currentTarget;angular.element(".filter-collapse").parent().removeClass("selected"),angular.element(b).parent().toggleClass("selected"),angular.element("#filterResult").hide(),angular.element("#getData").toggle()},a.sidebarCollapseHide=function(a){a.currentTarget;angular.element("#leftColumn").toggle("silde"),c(function(){angular.element("#rightColumn").toggleClass("col-md-12"),angular.element("#siderbarCollapseShow").toggleClass("d-flex")},150)},a.sidebarCollapseShow=function(a){a.currentTarget;angular.element("#siderbarCollapseShow").toggleClass("d-flex"),angular.element("#rightColumn").toggleClass("col-md-12"),angular.element("#leftColumn").toggle("silde")}}]),a.controller("HeaderCtrl",["$scope","$window","$rootScope",function(a,b,c){a.logout=function(){c.Auth.logout()}}])}(),function(){function a(a,b,c,d,e,f){function g(a){"Bearer "+a.token;f.defaults.headers.common.Authorization="annasarpprasanna"}a.Auth=c,g(c),c.onauthChange=function(){g(c)},a.$on("event:auth-loginRequired",function(){console.log("Event auth-loginRequired acquired");var a={redirectUri:window.location,prompt:"none",maxAge:3600,loginHint:"",action:"login",locale:"en"};console.log(createLoginUrl(a)),c.login(a)})}angular.module("app").run(["$rootScope","$location","Auth","rolesToEntitlements","roleToStates","$http",a])}(),function(){"use strict";function a(a,b){this.getAllGuestHouse=function(b){var c=a({method:"GET",headers:{"Content-Type":"application/json"},url:"guestHouse/getAllGuestHouse"});c.then(function(a){b(null,a.data)},function(a){b(a,null)})},this.createGuestHouse=function(b,c){var d=a({method:"POST",data:b,headers:{"Content-Type":"application/json"},url:"guestHouse/createGuestHouse"});d.then(function(a){c(null,a.data)},function(a){c(a,null)})},this.updateGuestHouse=function(b,c,d){var e=a({method:"PUT",data:JSON.stringify({id:b,recordToEdit:c}),headers:{"Content-Type":"application/json"},url:"guestHouse/updateGuestHouse"});e.then(function(a){d(null,a.data)},function(a){d(a,null)})},this.deleteGuestHouse=function(b,c){var d=a({method:"DELETE",data:{id:b},headers:{"Content-Type":"application/json"},url:"guestHouse/deleteGuestHouse"});d.then(function(a){c(null,a.data)},function(a){c(a,null)})},this.getAllMasterData=function(b){var c=a({method:"GET",headers:{"Content-Type":"application/json"},url:"masterData/getAllMasterData"});c.then(function(a){b(null,a.data)},function(a){b(a,null)})},this.createMasterData=function(b,c){var d=a({method:"POST",data:b,headers:{"Content-Type":"application/json"},url:"masterData/createMasterData"});d.then(function(a){c(null,a.data)},function(a){c(a,null)})},this.updateMasterData=function(b,c,d){var e=a({method:"PUT",data:JSON.stringify({id:b,recordToEdit:c}),headers:{"Content-Type":"application/json"},url:"masterData/updateMasterData"});e.then(function(a){d(null,a.data)},function(a){d(a,null)})},this.deleteMasterData=function(b,c){var d=a({method:"DELETE",data:{id:b},headers:{"Content-Type":"application/json"},url:"masterData/deleteMasterData"});d.then(function(a){c(null,a.data)},function(a){c(a,null)})}}var b=angular.module("app");b.service("guestHouseMasterService",a),a.$inject=["$http","$rootScope"]}(),function(){"use strict";function a(a,b){a.newGuestHouse={},a.guestHouse=[],b.getAllMasterData(function(b,c){b||(a.mastersData=c)}),a.saveGuestHouse=function(){b.createGuestHouse(a.newGuestHouse,function(b,c){b||a.guestHouse.push(a.newGuestHouse)})}}var b=angular.module("app");b.controller("guestHouseCtrl",a),a.$inject=["$scope","guestHouseMasterService"]}(),function(){"use strict";function a(a,b){function c(){b.getAllMasterData(function(b,c){b||(a.mastersData=c)})}a.masterData={},a.masterData.values=[],a.dataMode="ADD",c(),a.saveMasterData=function(){$("#basic-modal").modal("hide"),a.masterData.values.forEach(function(b,c){a.masterData.values[c]=b.toUpperCase()}),b.createMasterData(a.masterData,function(b,c){b||a.mastersData.push(c)})},a.setMasterDataForEdit=function(b){a.masterData=JSON.parse(JSON.stringify(b)),a.dataMode="EDIT",$("#basic-modal").modal({backdrop:"static",keyboard:!1})},a.saveEditedMasterData=function(){b.updateMasterData(a.masterData._id,a.masterData,function(b,c){a.mastersData.forEach(function(b,c){b._id==a.masterData._id&&(a.mastersData[c]=a.masterData)})}),$("#basic-modal").modal("hide")},a.removeMasterData=function(b){a.masterData.values.splice(b,1)},a.askDeleteModal=function(b){$("#askDeleteModal").modal({backdrop:"static",keyboard:!1}),a.deleteIndex=b},a.deleteMasterDataSure=function(){b.deleteMasterData(a.deleteIndex,function(a,b){console.log("success")}),a.mastersData.splice(a.deleteIndex,1),$("#askDeleteModal").modal("hide")}}var b=angular.module("app");b.controller("masterDataCtrl",a),a.$inject=["$scope","guestHouseMasterService"]}(),function(){"use strict";var a=angular.module("app");a.directive("windowHeight",function(a){return{link:function(a,b,c){angular.element(window).resize(function(){a.windowHeight()}),setTimeout(function(){a.windowHeight()},10),a.windowHeight=function(){b.css("min-height",angular.element(window).height()-(angular.element("#footer").height()+17))}}}}),a.directive("jsSlimscroll",function(){return{link:function(a,b,c){var d="undefined"!=typeof a.$eval(c.jsSlimscroll)?a.$eval(c.jsSlimscroll):new Object;jQuery(b).slimScroll({height:d.height?d.height:"200px",size:d.size?d.size:"5px",position:d.position?d.position:"right",color:d.color?d.color:"#000",alwaysVisible:!!d.alwaysVisible,railVisible:!!d.railVisible,railColor:d.railColor?d.railColor:"#999",railOpacity:d.railOpacity?d.railOpacity:.3})}}}),a.directive("preventDefault",function(){return function(a,b,c){jQuery(b).click(function(a){a.preventDefault()})}}),a.directive("scrollTo",["$window",function(a){return{restrict:"AC",compile:function(){function b(b){b||a.scrollTo(0,0);var c=document.getElementById(b);c&&c.scrollIntoView()}return function(a,c,d){c.bind("click",function(a){b(d.scrollTo)})}}}}]),a.directive("uppercase",function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){var e=function(a){if(a){var b=a.toUpperCase();return b!==a&&(d.$setViewValue(b),d.$render()),b}};d.$parsers.push(e),e(a[c.ngModel])}}}),a.filter("startFrom",function(){return function(a,b){return a?(b=+b,a.slice(b)):[]}})}();